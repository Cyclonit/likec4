.diagramBg {
  overscroll-behavior: none;
  overflow: hidden;
  --diagram-bg-size: 24px;
  --diagram-bg-position-x: 0;
  --diagram-bg-position-y: 0;

  :global(.konvajs-content) {

    canvas {
      transition:
        filter 200ms ease-out,
        /* transform 500ms cubic-bezier(0.46, 0.08, 0.27, 0.95); */
        transform 400ms cubic-bezier(0.16, 0.67, 0.29, 0.85);
      filter: none;
      transform: none;
    }

    &::before {
      transition: filter 200ms ease-out;
      content: '';
      position: absolute;
      padding: 0;
      margin: 0;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      touch-action: none;
      user-select: none;
      background-origin: border-box;
      background-attachment: fixed;
      background-image: radial-gradient(var(--gray-a3) 12%, transparent 12%);
      background-position: var(--diagram-bg-position-x) var(--diagram-bg-position-y);
      background-size: var(--diagram-bg-size) var(--diagram-bg-size);
      z-index: -1;
    }
  }

  &.active :global(.konvajs-content) {

    &::before {
      filter: blur(3px);
      transition-delay: 100ms;
      transition-timing-function: ease-in;
    }
    canvas:where(:nth-of-type(1), :nth-of-type(2)) {
      filter: blur(4px);
      transform: scale(0.9);
      transition-delay: 100ms, 0ms;
      transition-duration: 200ms, 900ms;
      transition-timing-function: ease-in, cubic-bezier(0.46, 0.08, 0.27, 0.95);
      /* transition: */
      /* filter 250ms ease-out, */
      /* transform 500ms cubic-bezier(0.46, 0.08, 0.27, 0.95); */
    }
  }
}
